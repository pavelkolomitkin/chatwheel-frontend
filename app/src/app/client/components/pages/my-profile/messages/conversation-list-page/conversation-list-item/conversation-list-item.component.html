<ng-container *ngIf="_conversation">
  <td>
    <div class="d-inline-block align-middle left-block">
      <div class="avatar-container">
        <app-user-avatar *ngIf="!!addressee"
                         [size]="'small'"
                         [user]="addressee"
                         [isActivityVisible]="true"
        ></app-user-avatar>
      </div>
      <div class="d-inline-block last-message-block">
        <h6 class="mb-0" *ngIf="!!addressee">{{ addressee.fullName }}</h6>
        <p class="text-muted mb-0" *ngIf="_conversation.lastMessage">

          <ng-container *ngIf="!!user">

            <span class="d-inline-block">

              <app-user-avatar *ngIf="_conversation.lastMessage.message.author.id !== user.id"
                [size]="'extraSmall'"
                [user]="_conversation.lastMessage.message.author"
              ></app-user-avatar>

            </span>

          </ng-container>
          <span>
            {{ _conversation.lastMessage.message.text | textTrim:50}}
          </span>
        </p>
      </div>
    </div>
  </td>
  <td class="text-right">
    <div class="controls">
      <span class="btn" (click)="onDeleteClickHandler($event)">
        <i class="ik ik-trash"></i>
      </span>
    </div>
    <div class="message-number" *ngIf="_conversation.newMessageNumber > 0">
      <span class="badge badge-pill badge-primary">{{ _conversation.newMessageNumber }}</span>
    </div>
<!--    <h6 class="fw-700">$78.001<i class="fas fa-level-down-alt text-red ml-10"></i></h6>-->
  </td>
  <app-alert-window [title]="'Delete Conversation?'" [(isShown)]="isAlertShown">
    <div content>
      Are you sure you wanna delete the conversation?
    </div>
    <div footer>
      <button type="button" class="btn btn-outline-danger" (click)="onConversationDeleteHandler($event)">Delete</button>
    </div>
  </app-alert-window>
</ng-container>

