<div class="card table-card">

  <div class="card-header">

    <h3>Users <span class="text-muted small" *ngIf="!!totalNumber">({{ totalNumber }})</span></h3>

  </div>

  <div class="card-block card-body">

    <div class="pl-4 pr-4 pt-2">
      <app-user-list-filter-form
        [countries]="countries"
        [authType]="currentFilter.authType"
        [isNotActivated]="currentFilter.isNotActivated"
        [isBlocked]="currentFilter.isBlocked"
        [isDeleted]="currentFilter.isDeleted"
        [residenceCountry]="currentFilter.residenceCountry"
        [searchCountry]="currentFilter.searchCountry"
        (onChange)="onFilterFormChangeHandler($event)"
      ></app-user-list-filter-form>
    </div>

    <div class="mr-4">
      <app-paginator
        [itemsOnPage]="10"
        [totalItems]="totalNumber"

      ></app-paginator>
    </div>

    <div class="table-responsive">
      <table class="table dataTable table-hover mb-0">
        <thead>
          <tr>
            <th>Photo</th>
            <th
              [ngClass]="(currentFilter.sortField === 'fullName') ? (currentFilter.sortType === 'asc' ? 'sorting_asc' : 'sorting_desc') : ''"
              class="sorting"
              (click)="onSortingFieldClickHandler($event, 'fullName')"
              style="width: 10%"
            >Full Name</th>
            <th style="width: 10%">Residence Country</th>
            <th style="width: 10%">Search Country</th>
            <th>Geo Location</th>
            <th style="width: 15%">Interests</th>
            <th>Auth Type</th>
            <th
              [ngClass]="(currentFilter.sortField === 'lastActivity') ? (currentFilter.sortType === 'asc' ? 'sorting_asc' : 'sorting_desc') : ''"
              class="sorting"
              (click)="onSortingFieldClickHandler($event, 'lastActivity')"
            >Last Activity</th>
            <th>Activated</th>
            <th>Blocked</th>
            <th>Deleted</th>
            <th
              [ngClass]="(currentFilter.sortField === 'signUp') ? (currentFilter.sortType === 'asc' ? 'sorting_asc' : 'sorting_desc') : ''"
              class="sorting"
              (click)="onSortingFieldClickHandler($event, 'signUp')">Created</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody *ngIf="list !== null">

          <tr
            app-user-list-item
            *ngFor="let user of list"
            [user]="user"
            (blockUserEmitter)="onBlockUserHandler($event)"
            (unBlockUserEmitter)="onUnBlockUserHandler($event)"
            (deleteUserEmitter)="onDeleteUserHandler($event)"
          >

          </tr>

        </tbody>
      </table>
    </div>

    <div *ngIf="list !== null">
      <p class="alert alert-info m-4" *ngIf="list.length === 0">{{ 'NO_USER_FOUND' | translate }}</p>
    </div>

    <div class="mr-4">
      <app-paginator
        [itemsOnPage]="10"
        [totalItems]="totalNumber"

      ></app-paginator>
    </div>
  </div>

</div>
